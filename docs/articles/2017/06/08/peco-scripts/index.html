
<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">

  <title>pecoを使ったカスタムスクリプトをまとめる</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="author" content="Hidetatsu Yaginuma">

  <link href="https://cdn.jsdelivr.net/npm/github-markdown-css@3.0.1/github-markdown.min.css" rel="stylesheet"></link>
  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>
</head>


<body class="markdown-body">
<h2><a href="/">dtyler.io</a></h2>

<h1><a href="/articles/2017/06/08/peco-scripts/">pecoを使ったカスタムスクリプトをまとめる</a></h1>

<p>2017/06/08</p>

<p>pecoが便利すぎるので、カスタムしたスクリプトについてメモしておく。</p>

<h3>pecoでディレクトリを移動する</h3>

<pre><code>#!bin/bash
function peco-lscd {
    local dir=&quot;$( ls -1d ./* | peco )&quot;
    if [ ! -z &quot;$dir&quot; ] ; then
        cd &quot;$dir&quot;
        ls -a
    fi
}
</code></pre>

<p>パスを通してpeco-lscd を叩くと</p>

<pre><code>QUERY&gt;                                                                                                                                                                                IgnoreCase [13 (1/1)]
./Applications
./Desktop
./Documents
./Downloads
./Dropbox
./Library
./Movies
./Music
./Pictures
./Public
./work
</code></pre>

<p>こういう感じで出てくるので、インクリメンタルサーチしながら移動ができる。</p>

<h3>pecoでファイルをviで開く</h3>

<pre><code>#!bin/bash
function peco-vim {
    local file=&quot;$( ls -F | grep -v / | peco )&quot;
    if [ ! -d &quot;$file&quot; -a &quot;$file&quot; != &quot;&quot; ] ; then
        vi &quot;$file&quot;
    fi
}
</code></pre>

<p>IDEとかを使わずにコーディングするときは、ファイルが多いことが多いのでけっこう使える。</p>

<h3>pecoでdockerコンテナに入る</h3>

<pre><code>#!/bin/bash

function peco-docker-exec() {
  docker exec -it `docker ps | peco | cut -d&quot; &quot; -f 1` /bin/bash
}
</code></pre>

<p>通常は <code>docker exec -it xxxx /bin/bash</code> と打たなきゃいけないところを、削減できる。</p>

</body>

</html>
